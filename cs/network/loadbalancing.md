# 로드 밸런싱(Load Balancing)

## 로드 밸런싱(Load Balancing)이란?

- 부하 분산
- 컴퓨터 네트워크 기술의 일종으로 중앙처리장치 혹은 저장장치와 같은 컴퓨터 자원들에게 작업을 나누는 것을 의미
- 사업 규모 확장, 클라이언트 수 증가에 따라 기존 서버만으로는 정상적인 서비스가 불가능해지는 경우, 증가한 트래픽에 대처할 수 있는 방법은 `Scale up`, `Scale out`두 가지로 나뉨
    - `Scale up` : 서버 자체의 성능을 높이는 것
    - `Scale out` : 여러 대의 서버를 두는 것(무중단 서비스를 제공하는 환경 구성이 용이)
- Scale out의 방식에서 여러 대의 서버로 트래픽을 균등하게 분산해주는 로드밸런싱이 필요

## 로드 밸런싱 알고리즘

### 라운드 로빈(Round Robin)

- 서버에 들어온 요청을 순서대로 돌아가며 배정하는 방식
- 클라이언트의 요청을 순서대로 분배
- 여러 대의 서버가 동일한 스펙을 갖고 있고, 서버와의 연결(세션)이 오래 지속되지 않는 경우에 적합

### 가중 라운드 로빈(Weighted Round Robin)

- 각각의 서버마다 가중치를 매기고 가중치가 높은 순으로 요청을 우선적으로 배분
- 주로 서버의 트래픽 처리 능력이 상이한 경우 사용되는 부하 분산 방식

### IP 해시(IP Hash)

- 클라이언트의 IP 주소를 특정 서버로 매핑하여 요청을 처리하는 방식
- 사용자의 IP를 `해싱`해 로드를 분배하기 대문에 사용자가 항상 동일한 서버로 연결되는 것을 보장
- `해싱(Hashing)` : 임의의 길이를 가진 데이터를 고정된 길이의 데이터로 매핑하는 것

### 최소 연결(Least Connection)

- 요청이 들어온 시점에 가장 적은 연결 상태를 보이는 서버에 우선적으로 트래픽 배분
- 자주 세션이 길어지거나, 서버에 분배된 트래픽들이 일정하지 않은 경우에 적합

### 최소 응답 시간(Least Response Time)

- 서버의 현재 연결 상태와 응답 시간을 모두 고려하여 트래픽을 배분
- 가장 적은 연결 상태와 가장 짧은 `응답 시간`을 보이는 서버에 우선적으로 로드 배분
- `응답 시간(Response Time)` : 서버에 요청을 보내고 최초 응답을 받을 때까지의 소요 시간